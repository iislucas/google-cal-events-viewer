@if (errorMessage()) {
<div class="error-message">
  <p>{{ errorMessage() }}</p>
</div>
}

<form (ngSubmit)="onSearch()" class="search-container">
  <input
    type="text"
    [ngModel]="searchInput()"
    (ngModelChange)="searchInput.set($event)"
    name="searchTerm"
    placeholder="Search events..."
  />
  <button type="submit">Search</button>
</form>

@if (showInputFields()) {
<div>
  <div>
    <label for="calendarId">Calendar ID:</label>
    <input
      id="calendarId"
      [(ngModel)]="inputCalendarId"
      placeholder="Enter Calendar ID"
    />
  </div>
  <button (click)="submitParameters()">Fetch Events</button>
</div>
} @if (searchResults().matched.length === 0 && searchResults().unmatched.length
=== 0 && !errorMessage() && !showInputFields()) {
<div>
  <p>No events found</p>
</div>
} @else {
<div>
  <!-- Matched Events -->
  @if (searchResults().matched.length > 0) {
  <ul>
    @for (event of searchResults().matched; track event.id) {
    <app-event-item [event]="event" />
    }
  </ul>
  }

  <!-- Unmatched Events -->
  @if (searchResults().unmatched.length > 0) {
  <hr />
  <h2>Other Events</h2>
  <ul>
    @for (event of searchResults().unmatched; track event.id) {
    <app-event-item [event]="event" />
    }
  </ul>
  }
</div>
}
