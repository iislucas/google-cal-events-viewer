@if (errorMessage()) {
<div class="error-message">
  <p>{{ errorMessage() }}</p>
</div>
} @if (showInputFields()) {
<div class="search-container">
  <mat-form-field>
    <mat-label>Calendar ID</mat-label>
    <input
      matInput
      id="calendarId"
      [(ngModel)]="inputCalendarId"
      placeholder="Enter Calendar ID"
    />
  </mat-form-field>
  <button mat-raised-button (click)="submitParameters()">Fetch Events</button>
</div>
} @else {
<form (ngSubmit)="onSearch()" class="search-container">
  <mat-form-field>
    <mat-label>Search events</mat-label>
    <input
      matInput
      type="text"
      [ngModel]="searchInput()"
      (ngModelChange)="searchInput.set($event)"
      name="searchTerm"
    />
  </mat-form-field>
  <button
    mat-raised-button
    color="primary"
    type="submit"
    class="mat-form-field-wrapper"
  >
    Search
  </button>
</form>
} @if (searchResults().matched.length === 0 && searchResults().unmatched.length
=== 0 && !errorMessage() && !showInputFields()) {
<div>
  <p>No events found</p>
</div>
} @else {
<div>
  <!-- Matched Events -->
  @if (searchResults().matched.length > 0) {
  <div>
    @for (event of searchResults().matched; track event.id) {
    <div>
      <app-event-item [event]="event" />
    </div>
    }
  </div>
  }

  <!-- Unmatched Events -->
  @if (searchResults().unmatched.length > 0) {
  <hr />
  <h2>Other Events</h2>
  <div>
    @for (event of searchResults().unmatched; track event.id) {
    <div>
      <app-event-item [event]="event" />
    </div>
    }
  </div>
  }
</div>
}
